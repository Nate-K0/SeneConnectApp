<div class="container">
  <div class="row">
    <div class="post d-flex justify-content-center" *ngFor="let post of posts">
      <div class="post-details">
        <mat-card>
          <mat-card-header>
            <mat-card-title>
              <div class="post-thumbnail"><img src="{{post.featuredImage}}" alt="..." class="img-fluid" width="400px" height="400px"></div>
            </mat-card-title>
            <mat-card-subtitle>
              <div class="title"><a href="#" style="text-decoration: none;">@{{post.postedBy}}</a></div>
              <div><i class="fa fa-clock-o"></i> {{post.postDate | date:'mediumDate'}}</div><br>
              <div class="caption">
                <h3>{{post.caption}}</h3>
              </div>
            </mat-card-subtitle>
          </mat-card-header>
          <mat-card-actions align="end">
            <div class="likes">
              <a (click)="handleLike(post._id)" class="btn btn-lg" *ngIf="post.likedBy.includes(username)">
                <i class="fa fa-heart" style='color: red'></i> {{post.likes}}</a>

              <a (click)="handleLike(post._id)" class="btn btn-lg" *ngIf="!post.likedBy.includes(username)">
                <i class="fa fa-heart-o"></i> {{post.likes}}</a>

            </div>
            <div class="comments"><a (click)="addComment(post._id)" class="btn btn-lg">
              <i class="fa fa-comment-o"></i> {{post.comments.length}}</a>
            </div>
            <div class="delete" *ngIf="username == post.postedBy"><a (click)="handleDelete(post._id)"
                class="btn btn-lg btn-danger"><i class="fa fa-trash-o"></i> Delete Post</a></div>
          </mat-card-actions>
        </mat-card>
      </div>
    </div>
  </div>

  <div class="to-top" (click)="scrollToTop()" [ngClass]="{ 'show-scrollTop': windowScrolled }">
    <i class="fa fa-arrow-up"></i>
  </div>
</div>